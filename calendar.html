<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calendar - Tablet Alarm</title>
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body class="calendar-page">
    <header class="app-header">
        <div class="header-left">
            <a href="dashboard.html" class="back-btn">
                <i class="fas fa-arrow-left"></i>
            </a>
            <h1>Calendar</h1>
        </div>
        <div class="header-right">
            <button class="btn btn-primary" id="addAppointmentBtn">
                <i class="fas fa-plus"></i> Add Appointment
            </button>
        </div>
    </header>

    <main class="calendar-main">
        <!-- Calendar Navigation -->
        <div class="calendar-nav">
            <button class="btn btn-secondary" id="prevMonth">
                <i class="fas fa-chevron-left"></i>
            </button>
            <h2 id="currentMonth"></h2>
            <button class="btn btn-secondary" id="nextMonth">
                <i class="fas fa-chevron-right"></i>
            </button>
        </div>

        <!-- Calendar Grid -->
        <div class="calendar-container">
            <div class="calendar-header">
                <div class="day-header">Sun</div>
                <div class="day-header">Mon</div>
                <div class="day-header">Tue</div>
                <div class="day-header">Wed</div>
                <div class="day-header">Thu</div>
                <div class="day-header">Fri</div>
                <div class="day-header">Sat</div>
            </div>
            <div class="calendar-grid" id="calendarGrid">
                <!-- Calendar days will be populated here -->
            </div>
        </div>

        <!-- Legend -->
        <div class="calendar-legend">
            <div class="legend-item">
                <div class="legend-color medication"></div>
                <span>Medication Doses</span>
            </div>
            <div class="legend-item">
                <div class="legend-color appointment"></div>
                <span>Doctor Appointments</span>
            </div>
            <div class="legend-item">
                <div class="legend-color missed"></div>
                <span>Missed Doses</span>
            </div>
            <div class="legend-item">
                <div class="legend-color completed"></div>
                <span>Completed Doses</span>
            </div>
        </div>

        <!-- Day Details Panel -->
        <div class="day-details" id="dayDetails">
            <h3 id="selectedDate"></h3>
            <div class="day-events" id="dayEvents">
                <!-- Selected day events will be populated here -->
            </div>
        </div>
    </main>

    <!-- Add Appointment Modal -->
    <div id="appointmentModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Add Doctor Appointment</h2>
                <button class="modal-close" id="closeModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="appointmentForm">
                <div class="form-group">
                    <label for="appointmentDate">Date</label>
                    <input type="date" id="appointmentDate" name="appointmentDate" required>
                </div>
                <div class="form-group">
                    <label for="appointmentTime">Time</label>
                    <input type="time" id="appointmentTime" name="appointmentTime" required>
                </div>
                <div class="form-group">
                    <label for="doctorName">Doctor Name</label>
                    <input type="text" id="doctorName" name="doctorName" required>
                </div>
                <div class="form-group">
                    <label for="appointmentType">Appointment Type</label>
                    <select id="appointmentType" name="appointmentType" required>
                        <option value="checkup">Regular Checkup</option>
                        <option value="specialist">Specialist Visit</option>
                        <option value="followup">Follow-up</option>
                        <option value="emergency">Emergency</option>
                        <option value="routine">Routine Visit</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="appointmentNotes">Notes</label>
                    <textarea id="appointmentNotes" name="appointmentNotes" rows="3" placeholder="Additional notes..."></textarea>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="cancelAppointment">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save Appointment</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="bottom-nav">
        <a href="dashboard.html" class="nav-item">
            <i class="fas fa-home"></i>
            <span>Dashboard</span>
        </a>
        <a href="add-medication.html" class="nav-item">
            <i class="fas fa-plus"></i>
            <span>Add Medication</span>
        </a>
        <a href="calendar.html" class="nav-item active">
            <i class="fas fa-calendar"></i>
            <span>Calendar</span>
        </a>
        <a href="exercise.html" class="nav-item">
            <i class="fas fa-running"></i>
            <span>Exercise</span>
        </a>
        <a href="ai-chat.html" class="nav-item">
            <i class="fas fa-robot"></i>
            <span>AI Assistant</span>
        </a>
    </nav>

    <script src="js/auth.js"></script>
    <script src="js/storage.js"></script>
    <script src="js/calendar.js"></script>
</body>
</html>
